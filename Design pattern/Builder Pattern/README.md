### Intent
无论是在现实世界中还是在软件系统中，都存在一些复杂的对象，它们拥有多个组成部分，如汽车，它包括车轮、方向盘、发送机等各种部件。而对于大多数用户而言，无须知道这些部件的装配细节，也几乎不会使用单独某个部件，而是使用一辆完整的汽车，可以通过建造者模式对其进行设计与描述，建造者模式可以将部件和其组装过程分开，一步一步创建一个复杂的对象。用户只需要指定复杂对象的类型就可以得到该对象，而无须知道其内部的具体构造细节。

在软件开发中，也存在大量类似汽车一样的复杂对象，它们拥有一系列成员属性，这些成员属性中有些是引用类型的成员对象。而且在这些复杂对象中，还可能存在一些限制条件，如某些属性没有赋值则复杂对象不能作为一个完整的产品使用；有些属性的赋值必须按照某个顺序，一个属性没有赋值之前，另一个属性可能无法赋值等。

复杂对象相当于一辆有待建造的汽车，而对象的属性相当于汽车的部件，建造产品的过程就相当于组合部件的过程。由于组合部件的过程很复杂，因此，这些部件的组合过程往往被“外部化”到一个称作建造者的对象里，建造者返还给客户端的是一个已经建造完毕的完整产品对象，而用户无须关心该对象所包含的属性以及它们的组装方式，这就是建造者模式的模式动机。

### Definition
* Builder pattern in useful when you want to build a complex object. Intent of this pattern is to separate the construction of object from its representation.

* It is used to construct a complex object step by step and the final step will return the object.

* Abstract the construction of object and then derived concrete implementations will give respective construction parts.

* The director makes sure that the product (complex object) is properly created using the builder interface and the parts are built with correct order.

**Advantages**:
1. Allows you to vary a product’s internal representation.
2. Encapsulates code for construction and representation.
3. Provides control over steps of construction process.

**Disadvantages**:
1. Requires creating a separate ConcreteBuilder for each different type of Product.
2. Requires the builder classes to be mutable.
3. Data members of class aren't guaranteed to be initialized. Provides control over steps of construction process.
4. Dependency injection may be less supported.

#### Builder Pattern is uaually comprised of 4 parts:
1) **Product**: 产品角色     
The product class defines the type of the complex object that is to be generated by the builder pattern.     
2) **Builder**: 抽象建造者   
This abstract base class defines all of the steps that must be taken in order to correctly create a product.
3) **ConcreteBuilder**: 具体建造者     
There may be any number of concrete builder classes inheriting from Builder. These classes contain the functionality to create a particular complex product.
4) **Director**: 指挥者     
The director class controls the algorithm that generates the final product object. A director object is instantiated and its Construct method is called.

### UML
![alt text](https://github.com/vectormars/CPP/blob/master/Design%20pattern/Builder%20Pattern/image/Builder.jpg)

### Sequence Diagram
![alt text](https://github.com/vectormars/CPP/blob/master/Design%20pattern/Builder%20Pattern/image/seq_Builder.jpg)

https://www.tutorialspoint.com/design_pattern/builder_pattern.htm  
https://airbrake.io/blog/design-patterns/builder-method  
http://www.spuriousthoughts.com/2012/11/06/chaining-setters-in-c-builder-pattern/   
http://www.sourcetricks.com/2013/04/builder-pattern.html#.Wmi2P66nGpo   
https://www.geeksforgeeks.org/builder-design-pattern/
https://en.wikipedia.org/wiki/Builder_pattern   
http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html
